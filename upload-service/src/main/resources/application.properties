# =============================================================================
# Upload Service Configuration
# =============================================================================
# This file centralizes all configuration for the upload service.
# Configuration priority: env vars > config.yaml > application.properties defaults
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
server.port=8081
spring.application.name=upload-service

# -----------------------------------------------------------------------------
# Kafka Configuration
# -----------------------------------------------------------------------------
spring.kafka.bootstrap-servers=kafka:29092
spring.kafka.producer.bootstrap-servers=kafka:29092
spring.kafka.producer.acks=all
spring.kafka.producer.retries=5
spring.kafka.producer.retry.backoff.ms=100
spring.kafka.producer.batch.size=16384
spring.kafka.producer.linger.ms=1
spring.kafka.producer.buffer.memory=33554432
spring.kafka.producer.compression.type=lz4
spring.kafka.producer.enable.idempotence=true
spring.kafka.producer.max.in.flight.requests.per.connection=5

# Kafka Topics
kafka.topics.jobs=csv-jobs
kafka.dlq.topic=csv-jobs-dlq

# -----------------------------------------------------------------------------
# Common JobStore Service Configuration
# -----------------------------------------------------------------------------
job.status.url=http://common-jobstore-service:8084

# Job Status Client Retry Configuration
job.status.retry.max_attempts=5
job.status.retry.delay_ms=500

# -----------------------------------------------------------------------------
# File Storage Configuration
# -----------------------------------------------------------------------------
file.upload.dir=/data/raw
file.raw.dir=/data/raw

# -----------------------------------------------------------------------------
# Upload Limits
# -----------------------------------------------------------------------------
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB
spring.servlet.multipart.enabled=true

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
logging.level.root=INFO
logging.level.com.example=DEBUG
logging.level.org.springframework.kafka=INFO
logging.level.org.apache.kafka=WARN
